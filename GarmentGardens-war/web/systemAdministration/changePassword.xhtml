<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="/template/defaultTemplate.xhtml"
                xmlns:ez="http://xmlns.jcp.org/jsf/composite/ezcomp"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        #{changePasswordManagedBean.foo()}
        
        <h:form id="formChangePassword">
            <p:messages id="changePasswordMessages" redisplay="false" />
            <p:panelGrid>
                <p:row>
                    <p:column>
                        <p:outputLabel for="currentPassword" value="Please Input Current Password" style="font-weight: bold;" />
                    </p:column>
                    <p:column>
                        <p:password id="currentPassword"  value="#{changePasswordManagedBean.currentPassword}"  required="true" requiredMessage="Old Password is required" />
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel for="newPassword" value="Please Input Your New Password" style="font-weight: bold;" />
                    </p:column>
                    <p:column>
                        <p:password id="newPassword" value="#{changePasswordManagedBean.newPassword1}" feedback="true" weakLabel="Weak" strongLabel="Strong" match="newPassword2" required="true" requiredMessage="New Password is required" />
                    </p:column>

                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel for="newPassword2" value="Re-enter your new password" style="font-weight: bold;" />
                    </p:column>
                    <p:column>
                        <p:password id="newPassword2" value="#{changePasswordManagedBean.newPassword2}" required="true" requiredMessage="New Password is required" />
                    </p:column>
                </p:row>

                <p:row>
                    <p:column colspan="3">
                        <p:commandButton type="reset" value="Clear" />
                        <p:commandButton  value="Change Password" update="@form formChangePassword:changePasswordMessages" actionListener="#{changePasswordManagedBean.changePassword}" />
                    </p:column>
                </p:row>

            </p:panelGrid>


        </h:form>

    </ui:define>

</ui:composition>
