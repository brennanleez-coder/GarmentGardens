<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/template/defaultTemplate.xhtml"
                xmlns:ez="http://xmlns.jcp.org/jsf/composite/ezcomp"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">

        <ez:Breadcrumb pageName="index" />

        <h:panelGroup rendered="#{sessionScope.isLogin == false}">
            <article style="padding-left:15px">
                <h1 style="font-size: 24px">Welcome to Garment Gardens Backend Portal!</h1>
                <h2>
                    Your one-stop management system for the world's next e-commerce giant for sustainable clothing. ðŸš€                    
                </h2>
                <h2>
                    Who are we?
                </h2>
                <p>
                    GarmentGardens was founded by a group of 4 aspiring students hoping to make a change. The current e-commerce platforms are evidently flooded with issues and inethical business models. What we want, is to have a platform where everyone can enjoy shopping, WHILE knowing that they are doing something for the environment.
                </p>
                <p>
                    Our team consists of people from a very diverse skill sets, from software engineering to designers, ready to put in our all in ensuring that our platform upholds sustainable practices that others are unable to. Setting our differences aside, we all love the environment.
                </p>
                <h2>To Join us:</h2>
                <p>
                    Email your resume and what you are interested in to garmentgardens@email.com, and we'll see if the role fits!
                </p>
                <br></br>
                <p2>
                    Check us out on <u>garmentgardens.com</u>
                </p2>
            </article>
        </h:panelGroup>

        <h:panelGroup rendered="#{sessionScope.isLogin == true}">
            <article>
                <h3>Message Of The Day</h3>
                <h:form id="createMotd">
                    <p:menubar>

                        <p:submenu label="Create" icon="ui-icon-document">
                            <p:menuitem value="Create New Message Of The Day" onclick="PF('dialogCreateNewMotd').show()" icon="pi pi-plus" />
                        </p:submenu>                                        

                    </p:menubar>
                </h:form>
                <h:form id="formCreateNewMotd">

                    <p:dialog id="dialogCreateNewMotd" widgetVar="dialogCreateNewMotd" header="Create New Motd" closable="true">
                        <p:messages id="messagesCreateNewMotd" redisplay="false" />
                        <p:panelGrid id="createMotdPanel">
                            <p:row>
                                <p:column>
                                    <p:outputLabel for="title" value="Title: " style="font-weight: bold;" />
                                </p:column>
                                <p:column>
                                    <p:inputText id="title" value="#{motdManagement.newMessageOfTheDay.title}" placeholder="Enter Title" required="true" requiredMessage="Title is required" />
                                </p:column>
                                <p:column>
                                    <p:message for="title" />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column>
                                    <p:outputLabel for="message" value="Message: " style="font-weight: bold;" />
                                </p:column>
                                <p:column>
                                    <p:inputText id="message" value="#{motdManagement.newMessageOfTheDay.message}" placeholder="Enter Message" required="true" requiredMessage="Message is required" />
                                </p:column>
                                <p:column>
                                    <p:message for="message" />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column>
                                    <p:outputLabel for="messageDate" value="Date: " style="font-weight: bold;" />
                                </p:column>
                                <p:column>
                                    <p:inputText id="messageDate"  value="#{motdManagement.newMessageOfTheDay.messageDate}" placeholder="dd-MM-yyyy" required="true" requiredMessage="Date is required">
                                        <f:convertDateTime pattern="dd-MM-yyyy" />
                                    </p:inputText>
                                </p:column>
                                <p:message for="messageDate"/>

                            </p:row>

                            <p:row>
                                <p:column colspan="3">
                                    <p:commandButton type="reset" value="Clear" />&nbsp;
                                    <p:commandButton  value="Create New Message Of The Day" update="repeatingMotd" actionListener="#{motdManagement.createNewMotd}" oncomplete="PF('dialogCreateNewCategory').show();" />
                                </p:column>
                            </p:row>

                        </p:panelGrid>

                    </p:dialog>
                </h:form>
                <p>
                    <h:form id="repeatingMotd">
                        <ui:repeat value="#{indexManagedBean.messageOfTheDayEntities}" var="motd">

                            <p:panel header="#{utilManagedBean.formatMotdHeader(motd.messageDate)} - #{motd.title}" toggleable="true">
                                <h:outputText value="#{motd.message}" />
                            </p:panel>
                            <br/>                

                        </ui:repeat>
                    </h:form>
                </p>
            </article>


        </h:panelGroup>

    </ui:define>

</ui:composition>
